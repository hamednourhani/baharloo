<?phpclass HNM_Widget_Appointment extends WP_Widget {    public function __construct() {        parent::__construct(            'HNM_Widget_Appointment',            __( 'Appointment Form', 'health-plus' ),            array( 'classname' => 'widget_appointment_form', 'description' => __( 'A widget to display an appointment form in sidebars. Contact Form 7 plugin required.', 'health-plus' ) )        );    }    function widget( $args, $instance ) {        extract( $args );        $title = $instance['title'];        $form = $instance['form'];        echo $before_widget;        ?>        <div class="form-section">            <?php if ( $title ) echo '<h2>' . $title . '</h2>'; ?>            <?php            if( !empty( $form ) )            {                echo do_shortcode( $form );            }            ?>        </div>        <?php        echo $after_widget;    }    function form( $instance ) {        $defaults = array( 'title' =>'', 'form' => '' );        $instance = wp_parse_args((array) $instance, $defaults);        ?>        <p><label for="<?php echo esc_attr( $this->get_field_id( 'title' ) ); ?>"><?php _e( 'Title:', 'health-plus' ); ?></label>            <input type="text" id="<?php echo esc_attr( $this->get_field_id('title') ); ?>" name="<?php echo esc_attr( $this->get_field_name('title') ); ?>" value="<?php echo $instance['title']; ?>" style="width:100%;" /></p>        <p><label for="<?php echo esc_attr( $this->get_field_id( 'form' ) ); ?>"><?php _e( 'Form Shortcode:', 'health-plus' ); ?></label>            <input type="text" id="<?php echo esc_attr( $this->get_field_id('form') ); ?>" name="<?php echo esc_attr( $this->get_field_name('form') ); ?>" value="<?php echo $instance['form']; ?>" style="width:100%;" /><br><?php _e( 'Create a form with Contact Form 7 and insert it\'s shortcode here. Contact Form 7 plugin must be installed for this form to work and appear.', 'health-plus' ); ?></p>    <?php    }}